class Event{constructor(n){this.name=n;this.callbacks=[]}registerCallback(n){this.callbacks.push(n)}}class Reactor{constructor(){this.events={}}registerEvent(n){var t=new Event(n);this.events[n]=t}dispatchEvent(n,t){this.events[n].callbacks.forEach(function(n){n(t)})}addEventListener(n,t){this.events[n].registerCallback(t)}}(function(){function t(){var n={},r=!1,i=0,e=arguments.length,u,f;for(Object.prototype.toString.call(arguments[0])=="[object Boolean]"&&(r=arguments[0],i++),u=function(i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=r&&Object.prototype.toString.call(i[u])=="[object Object]"?t(!0,n[u],i[u]):i[u])};i<e;i++)f=arguments[i],u(f);return n}function r(n){return n.filter(function(n,t,i){return i.indexOf(n)===t})}function u(n,t,i,r,u,f,e,o){var h,s;if(i){h=f?JSON.stringify({query:u.query,variables:u.variables}):"query="+encodeURIComponent(u.query)+"&variables="+encodeURIComponent(JSON.stringify(u.variables));n&&(console.groupCollapsed("[graphql]: "+t.toUpperCase()+" "+i+": "+u.query.split(/\n/)[0].substr(0,50)+"... with "+JSON.stringify(u.variables).substr(0,50)+"..."),console.log("QUERY: %c%s","font-weight: bold",u.query),console.log("VARIABLES: %c%s\n\nsending as "+(f?"json":"form url-data"),"font-weight: bold",JSON.stringify(u.variables,null,2),u.variables),console.groupEnd());for(s in r)typeof r[s]=="function"&&(r[s]=r[s]());__doRequest(t,i,f?"application/json":"application/x-www-form-urlencoded","application/json",r,h,e,o)}}function i(n){return Object.prototype.toString.call(n)=="[object Array]"&&n.raw}function n(t,i){var r,f,u;if(this instanceof n){if(arguments[2]!==!0)throw new Error("You cannot create GraphQLClient instance. Please call GraphQLClient as function.");}else{r=new n(t,i,!0);f=r._sender;for(u in r)typeof r[u]=="function"&&(f[u]=r[u].bind(r),r[u].declare&&(f[u].declare=r[u].declare.bind(r)),r[u].run&&(f[u].run=r[u].run.bind(r)));return f}i||(i={});i.fragments||(i.fragments={});this.url=t;this.options=i||{};this._fragments=this.buildFragments(i.fragments);this._sender=this.createSenderFunction(i.debug);this.createHelpers(this._sender);this._transaction={}}if(typeof XMLHttpRequest!="undefined"){function n(n,t,i,r,u,f,e,o){var s=new XMLHttpRequest,h;s.open(n,t,!0);s.setRequestHeader("Content-Type",i);s.setRequestHeader("Accept",r);for(h in u)s.setRequestHeader(h,u[h]);s.onerror=function(){o(s,s.status)};s.onload=function(){try{o(JSON.parse(s.responseText),s.status)}catch(n){o(s,s.status)}};s.send(f)}}else if(typeof require=="function"){function n(n,i,r,u,f,e,o,s){var l=require("http"),a=require("https"),v=require("url"),h=v.parse(i),c=(h.protocol==="https:"?a:l).request({protocol:h.protocol,hostname:h.hostname,port:h.port,path:h.path,method:n.toUpperCase(),headers:t({"Content-type":r,Accept:u},f)},function(n){var t="";n.setEncoding("utf8");n.on("data",function(n){t+=n});n.on("end",function(){s(JSON.parse(t),n.statusCode)})});if(typeof o=="function")c.on("error",function(n){o(n)});c.write(e);c.end()}}FRAGMENT_SEPERATOR="_";n.AUTODECLARE_PATTERN=/\(@autodeclare\)|\(@autotype\)/g;n.FRAGMENT_PATTERN=/\.\.\.\s*([A-Za-z0-9\.\_]+)/g;n.prototype.flatten=function(n){var r=arguments[1]||"",i=arguments[2]||{};for(var t in n)n.hasOwnProperty(t)&&(typeof n[t]=="object"?this.flatten(n[t],r+t+FRAGMENT_SEPERATOR,i):i[r+t]=n[t]);return i};n.prototype.setUrl=function(n){return this.url=n,this.url};n.prototype.getUrl=function(){return this.url};n.prototype.fragmentPath=function(n,t){var r=new Function("fragments","return fragments."+t.replace(/\./g,FRAGMENT_SEPERATOR)),i=r(n);if(t!="on"&&(!i||typeof i!="string"))throw new Error("Fragment "+t+" not found");return i};n.prototype.collectFragments=function(t,i){var e=this,u=n.FRAGMENT_PATTERN,f=[];return(t.match(u)||[]).forEach(function(n){var t=n.replace(u,function(n,t){return t}),n=e.fragmentPath(i,t),r,o;if(n){if(r=new RegExp(u.source.replace(/\((.*)\)/,t)+"$"),n.match(r))throw new Error("Recursive fragment usage detected on "+t+".");f.push(n);o=f.filter(function(n){return n.match(new RegExp("fragment "+t))});o.length>0&&u.test(n)&&e.collectFragments(n,i).forEach(function(n){f.unshift(n)})}}),r(f)};n.prototype.processQuery=function(t,i){if(typeof t=="object"&&t.hasOwnProperty("kind")&&t.hasOwnProperty("definitions"))throw new Error("Do not use graphql AST to send requests. Please generate query as string first using `graphql.print(query)`");var r=n.FRAGMENT_PATTERN,u=this.collectFragments(t,i);return t=t.replace(r,function(n,t){return"... "+t.split(".").join(FRAGMENT_SEPERATOR)}),[t].concat(u.filter(function(n){return!t.match(n)})).join("\n")};n.prototype.autoDeclare=function(t,i){var u=this,r={string:"String",number:function(n){return n%1==0?"Int":"Float"},boolean:"Boolean"};return t.replace(n.AUTODECLARE_PATTERN,function(){var n=[],t,e;for(t in i){var o=i[t],u=t.split("!"),f=r[typeof o],s=typeof f=="function"?f(o):f;!t.match("!")&&u[0].match(/_?id/i)&&(s="ID");e=u[1]||s;e&&n.push("$"+u[0]+": "+e+"!")}return n=n.join(", "),n?"("+n+")":""})};n.prototype.cleanAutoDeclareAnnotations=function(n){var t,i,r,u;n||(n={});t={};for(i in n)r=n[i],u=i.split("!"),t[u[0]]=r;return t};n.prototype.buildFragments=function(n){var u=this,r,t,i;n=this.flatten(n||{});r={};for(t in n)i=n[t],r[t]=typeof i=="object"?u.buildFragments(i):"\nfragment "+t+" "+i;return r};n.prototype.buildQuery=function(n,t){return this.autoDeclare(this.processQuery(n,this._fragments),t)};n.prototype.parseType=function(n){var t=n.trim().match(/^(query|mutation|subscription)/);return t?t[1]:"query"};n.prototype.createSenderFunction=function(r){var f=this;return function(e,o,s){if(i(e))return f.run(f.ql.apply(f,arguments));var h=function(n,i){i||(i={});n||(n={});var o=f.buildQuery(e,n);return headers=t(f.options.headers||{},i.headers||{}),new Promise(function(t,i){u(r,f.options.method||"post",f.getUrl(),headers,{query:o,variables:f.cleanAutoDeclareAnnotations(n)},!!f.options.asJSON,f.options.onRequestError,function(n,r){r==200?n.errors?i(n.errors):n.data?t(n.data):t(n):i(n)})})};return(h.merge=function(t,i){return s||(s=f.parseType(e),e=e.trim().replace(/^(query|mutation|subscription)\s*/,"").trim().replace(n.AUTODECLARE_PATTERN,"").trim().replace(/^\{|\}$/g,"")),o||(o=e),f._transaction[t]=f._transaction[t]||{query:[],mutation:[]},new Promise(function(n){f._transaction[t][s].push({type:s,query:o,variables:i,resolver:n})})},arguments.length>3)?h.apply(null,Array.prototype.slice.call(arguments,3)):h}};n.prototype.commit=function(n){if(!this._transaction[n])throw new Error("You cannot commit the merge "+n+" without creating it first.");var i=this,u={},r={},t={};return Object.keys(this._transaction[n]).forEach(function(f){if(i._transaction[n][f].length!==0){var e=i._transaction[n][f].map(function(t){var o="merge"+Math.random().toString().split(".")[1].substr(0,6),i,e;return u[o]=t.resolver,i=t.query.replace(/\$([^\.\,\s\)]*)/g,function(i,u){if(!t.variables)throw new Error("Unused variable on merge "+n+": $"+u[0]);var e=Object.keys(t.variables).filter(function(n){return n===u||n.match(new RegExp("^"+u+"!"))})[0],s=o+"__"+e;return r[f]=r[f]||{},r[f][s]=t.variables[e],"$"+s.split("!")[0]}),e=i.trim().match(/^[^\(]+\:/),e?i=i.replace(/^[^\(]+\:/,""):e=i.replace(/^\{|\}$/gm,"").trim().match(/^[^\(\{]+/)[0]+":",o+"_"+e+i}).join("\n");t[f]=t[f]||[];t[f].push(f+" (@autodeclare) {\n"+e+"\n }")}}),Promise.all(Object.keys(t).map(function(n){var u=t[n].join("\n"),f=r[n];return i._sender(u,u,null,f)})).then(function(n){var t={};return n.forEach(function(n){Object.keys(n).forEach(function(i){var r=i.match(/^(merge\d+)\_(.*)/);if(!r)throw new Error("Multiple root keys detected on response. Merging doesn't support it yet.");var o=r[1],f=r[2],e={};e[f]=n[i];t[f]=(t[f]||[]).concat([n[i]]);u[o](e)})}),t}).catch(function(n){return{error:!0,errors:n}}).finally(function(t){return i._transaction[n]={query:[],mutation:[]},t})};n.prototype.createHelpers=function(n){function r(r){var f,u;return i(r)?(t.__prefix=this.prefix,t.__suffix=this.suffix,f=t.run(t.ql.apply(t,arguments)),t.__prefix="",t.__suffix="",f):(u=n(this.prefix+" "+r+" "+this.suffix,r.trim(),this.type),arguments.length>1&&arguments[1]!=null)?u.apply(null,Array.prototype.slice.call(arguments,1)):u}var t=this;[{method:"mutate",type:"mutation"},{method:"query",type:"query"},{method:"subscribe",type:"subscription"}].forEach(function(n){t[n.method]=function(i,u,f){return t.options.alwaysAutodeclare===!0||f&&f.declare===!0?r.call({type:n.type,prefix:n.type+" (@autodeclare) {",suffix:"}"},i,u):r.call({type:n.type,prefix:n.type,suffix:""},i,u)};t[n.method].run=function(i,r){return t[n.method](i,r)({})}});this.run=function(t){return n(t,originalQuery,m.type,{})}};n.prototype.fragments=function(){return this._fragments};n.prototype.getOptions=function(){return this.options||{}};n.prototype.headers=function(n){return this.options.headers=t(this.options.headers,n)};n.prototype.fragment=function(n){if(typeof n=="string"){var i=this._fragments[n.replace(/\./g,FRAGMENT_SEPERATOR)];if(!i)throw"Fragment "+n+" not found!";return i.trim()}return this.options.fragments=t(!0,this.options.fragments,n),this._fragments=this.buildFragments(this.options.fragments),this._fragments};n.prototype.ql=function(n){var i=this,t;return fragments=Array.prototype.slice.call(arguments,1),fragments=fragments.map(function(n){if(typeof n=="string")return n.match(/fragment\s+([^\s]*)\s/)[1]}),t=typeof n=="string"?n:n.reduce(function(n,t,i){return n+fragments[i-1]+t}),t=this.buildQuery(t),((this.__prefix||"")+" "+t+" "+(this.__suffix||"")).trim()},function(t,i){typeof define=="function"&&define.amd?define(function(){return t.graphql=i(n)}):typeof module=="object"&&module.exports?module.exports=i(t.GraphQLClient):t.graphql=i(t.GraphQLClient)}(this,function(){return n})})();const graph=graphql("/api/basiccompany?sc_apikey={FB719F13-EDF3-42B3-B250-CA0B9507AA95}",{alwaysAutodeclare:!0,asJSON:!0,debug:!0}),reactor=new Reactor;reactor.registerEvent("fetchGraphQlEvent");reactor.addEventListener("fetchGraphQlEvent",function(){graph.commit("fetchGraphQl").then(function(n){console.log(n)})});document.addEventListener("DOMContentLoaded",function(){var n=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);n.length>0&&n.forEach(function(n){n.addEventListener("click",function(){var t=n.dataset.target,i=document.getElementById(t);n.classList.toggle("is-active");i.classList.toggle("is-active")})})});document.addEventListener("DOMContentLoaded",function(){var n="is-active",t=Array.prototype.slice.call(document.querySelectorAll(".accordion"),0);t.length!==0&&t.forEach(function(t){var i=void 0,r=Array.prototype.slice.call(t.querySelectorAll(".accordion-item"),0);r.length!==0&&r.forEach(function(t){t.classList.contains(n)&&(i=t);t.addEventListener("click",function(){t===i?(t.classList.remove(n),i=null):(t.classList.add(n),i&&i.classList.remove(n),i=t)})})})});const getPromoCardGraphQL=graph.query(`datasource: item(path: $source, language: $language) {
    Link: field(name:"Link"){
  	 	rendered
    }
    Image: field(name:"Image"){
      rendered(fieldRendererParameters: $mediaUrlOptions)
    }
    Headline:field(name:"Headline"){
      rendered
    }
    Text: field(name:"Text"){
      rendered
    }
    
  }`),loadPromoCard=function(n,t,i,r){getPromoCardGraphQL.merge("fetchGraphQl",{source:n,language:t,mediaUrlOptions:i}).then(function(n){const t=n.datasource,i=new DOMParser,f=i.parseFromString(t.Image.rendered,"text/xml");let u=f.getElementsByTagName("img")[0].getAttribute("src");u=i.parseFromString(u,"text/html");const e=i.parseFromString(t.Link.rendered,"text/html"),o=e.getElementsByTagName("a")[0].getAttribute("href"),s=`
      <div class="card">
        <div class="card-image">
            <figure style="background-image: url(${u.documentElement.textContent})"></figure>
        </div>
        <div class="card-content">
          <div class="content">
            <h4>${t.Headline.rendered}</h4>
            ${t.Text.rendered}
          </div>
          <a href="${o}" class="stretched-link"></a>
        </div>
      </div>`;r.innerHTML=s;console.log(t)}).catch(function(n){console.log(n)})};document.addEventListener("DOMContentLoaded",function(){const n=document.querySelectorAll(".graphQlPromoCard");let t=!1;for(let i=0,r=n.length;i<r;i++)if(n[i]){const r=n[i].getAttribute("data-id"),u=n[i].getAttribute("data-lang"),f=n[i].getAttribute("data-mediaUrlOptions");loadPromoCard(r,u,f,n[i]);t=!0}t&&reactor.dispatchEvent("fetchGraphQlEvent")});const getTestimonialGraphQL=graph.query(`datasource: item(path: $source, language: $language) {
    Image: field(name:"Image"){
      rendered(fieldRendererParameters: $mediaUrlOptions)
    }
    Title:field(name:"Title"){
      rendered
    }
    Quote: field(name:"Quote"){
      rendered
    }
    
  }`),loadTestimonial=function(n,t,i,r){getTestimonialGraphQL.merge("fetchGraphQl",{source:n,language:t,mediaUrlOptions:i}).then(function(n){const t=n.datasource,u=new DOMParser,f=u.parseFromString(t.Image.rendered,"text/xml");let i=f.getElementsByTagName("img")[0].getAttribute("src");i=u.parseFromString(i,"text/html");const e=`
    <div class="testimonial-inner" style="background-image: url(${i.documentElement.textContent})">
      <h3>${t.Title.rendered}</h3>
      ${t.Quote.rendered}
    </div>`;r.innerHTML=e;console.log(t)}).catch(function(n){console.log(n)})};document.addEventListener("DOMContentLoaded",function(){const n=document.querySelectorAll(".graphQlTestimonial");let t=!1;for(let i=0,r=n.length;i<r;i++)if(n[i]){const r=n[i].getAttribute("data-id"),u=n[i].getAttribute("data-lang"),f=n[i].getAttribute("data-mediaUrlOptions");loadTestimonial(r,u,f,n[i]);t=!0}t&&reactor.dispatchEvent("fetchGraphQlEvent")});